console.log("hello");

var text = '{"0":{"Category":"Total","Rep":23,"Dem":32,"Ind":39,"DK":6,"Lean Rep":39,"Lean Dem":48,"leaning":13,"N":25010},"1":{"Category":"Men","Rep":24,"Dem":26,"Ind":45,"DK":5,"Lean Rep":43,"Lean Dem":44,"leaning":13,"N":12843},"2":{"Category":"Women","Rep":23,"Dem":37,"Ind":35,"DK":6,"Lean Rep":36,"Lean Dem":52,"leaning":12,"N":12167},"3":{"Category":"White, non-Hispanic","Rep":30,"Dem":25,"Ind":40,"DK":5,"Lean Rep":49,"Lean Dem":40,"leaning":11,"N":17823},"4":{"Category":"Black, non-Hispanic","Rep":5,"Dem":64,"Ind":26,"DK":5,"Lean Rep":11,"Lean Dem":80,"leaning":9,"N":2496},"5":{"Category":"Hispanic","Rep":13,"Dem":34,"Ind":44,"DK":9,"Lean Rep":26,"Lean Dem":56,"leaning":18,"N":2594},"6":{"Category":"Asian, non-Hispanic (English-speaking only)","Rep":11,"Dem":37,"Ind":46,"DK":6,"Lean Rep":23,"Lean Dem":65,"leaning":12,"N":641},"7":{"Category":"Millennial (ages 18-33 in 2014)","Rep":18,"Dem":28,"Ind":48,"DK":6,"Lean Rep":35,"Lean Dem":51,"leaning":14,"N":5315},"8":{"Category":"Generation X (34-49)","Rep":22,"Dem":32,"Ind":40,"DK":6,"Lean Rep":38,"Lean Dem":49,"leaning":13,"N":5206},"9":{"Category":"Baby-Boomer (50-68)","Rep":25,"Dem":34,"Ind":35,"DK":5,"Lean Rep":41,"Lean Dem":47,"leaning":11,"N":9392},"10":{"Category":"Silent (69-86)","Rep":33,"Dem":33,"Ind":29,"DK":5,"Lean Rep":47,"Lean Dem":43,"leaning":10,"N":4350},"11":{"Category":"Younger Millennial (18-25)","Rep":18,"Dem":27,"Ind":50,"DK":5,"Lean Rep":36,"Lean Dem":51,"leaning":13,"N":2693},"12":{"Category":"Older Millennial (26-33)","Rep":18,"Dem":28,"Ind":47,"DK":7,"Lean Rep":33,"Lean Dem":50,"leaning":16,"N":2622},"13":{"Category":"Younger Gen Xer (34-41)","Rep":20,"Dem":31,"Ind":43,"DK":6,"Lean Rep":36,"Lean Dem":49,"leaning":14,"N":2326},"14":{"Category":"Older Gen Xer (42-49)","Rep":23,"Dem":33,"Ind":37,"DK":7,"Lean Rep":40,"Lean Dem":48,"leaning":12,"N":2880},"15":{"Category":"Younger Boomer (50-58)","Rep":26,"Dem":32,"Ind":36,"DK":6,"Lean Rep":41,"Lean Dem":46,"leaning":12,"N":4414},"16":{"Category":"Older Boomer (59-68)","Rep":25,"Dem":37,"Ind":34,"DK":4,"Lean Rep":41,"Lean Dem":49,"leaning":10,"N":4978},"17":{"Category":"Younger Silent (69-78)","Rep":32,"Dem":33,"Ind":30,"DK":6,"Lean Rep":47,"Lean Dem":43,"leaning":10,"N":3105},"18":{"Category":"Older Silent (79-86)","Rep":35,"Dem":34,"Ind":27,"DK":4,"Lean Rep":48,"Lean Dem":43,"leaning":9,"N":1245},"19":{"Category":"College graduate+","Rep":24,"Dem":34,"Ind":39,"DK":4,"Lean Rep":40,"Lean Dem":52,"leaning":9,"N":10270},"20":{"Category":"   Post graduate degree","Rep":20,"Dem":38,"Ind":38,"DK":4,"Lean Rep":35,"Lean Dem":57,"leaning":8,"N":3972},"21":{"Category":"   College graduate","Rep":26,"Dem":31,"Ind":39,"DK":4,"Lean Rep":42,"Lean Dem":49,"leaning":9,"N":6298},"22":{"Category":"Some college or less","Rep":23,"Dem":31,"Ind":40,"DK":6,"Lean Rep":39,"Lean Dem":47,"leaning":14,"N":14605},"23":{"Category":"   Some college","Rep":25,"Dem":30,"Ind":40,"DK":5,"Lean Rep":42,"Lean Dem":47,"leaning":12,"N":6920},"24":{"Category":"   High school or less","Rep":22,"Dem":31,"Ind":40,"DK":7,"Lean Rep":37,"Lean Dem":47,"leaning":16,"N":7685},"25":{"Category":"$75,000+ income","Rep":30,"Dem":29,"Ind":38,"DK":3,"Lean Rep":48,"Lean Dem":45,"leaning":8,"N":7578},"26":{"Category":"$30,000-$74,999 income","Rep":24,"Dem":32,"Ind":40,"DK":4,"Lean Rep":41,"Lean Dem":48,"leaning":10,"N":7811},"27":{"Category":"<$30,000 income","Rep":17,"Dem":35,"Ind":42,"DK":7,"Lean Rep":31,"Lean Dem":54,"leaning":15,"N":6995},"28":{"Category":"$150,000+ income","Rep":29,"Dem":29,"Ind":38,"DK":4,"Lean Rep":47,"Lean Dem":45,"leaning":9,"N":2229},"29":{"Category":"$100,000 to $149,999 income","Rep":30,"Dem":30,"Ind":37,"DK":3,"Lean Rep":48,"Lean Dem":45,"leaning":6,"N":2566},"30":{"Category":"$75,000 to $99,999 income","Rep":30,"Dem":29,"Ind":38,"DK":3,"Lean Rep":48,"Lean Dem":44,"leaning":9,"N":2783},"31":{"Category":"$50,000 to $74,999 income","Rep":27,"Dem":30,"Ind":38,"DK":4,"Lean Rep":45,"Lean Dem":45,"leaning":9,"N":3483},"32":{"Category":"$40,000 to $49,999 income","Rep":24,"Dem":33,"Ind":40,"DK":4,"Lean Rep":40,"Lean Dem":50,"leaning":10,"N":2045},"33":{"Category":"$30,000 to $39,999 income","Rep":19,"Dem":33,"Ind":43,"DK":4,"Lean Rep":37,"Lean Dem":51,"leaning":13,"N":2283},"34":{"Category":"<$30,000 income","Rep":17,"Dem":35,"Ind":42,"DK":7,"Lean Rep":31,"Lean Dem":54,"leaning":15,"N":6995},"35":{"Category":"Employed","Rep":23,"Dem":30,"Ind":40,"DK":7,"Lean Rep":39,"Lean Dem":48,"leaning":14,"N":2056},"36":{"Category":"Full-time employed","Rep":24,"Dem":30,"Ind":41,"DK":6,"Lean Rep":39,"Lean Dem":47,"leaning":14,"N":1525},"37":{"Category":"Part-time employed","Rep":22,"Dem":31,"Ind":39,"DK":9,"Lean Rep":37,"Lean Dem":49,"leaning":14,"N":531},"38":{"Category":"Unemployed","Rep":22,"Dem":35,"Ind":34,"DK":9,"Lean Rep":36,"Lean Dem":49,"leaning":15,"N":1238},"39":{"Category":"Married","Rep":28,"Dem":27,"Ind":39,"DK":6,"Lean Rep":48,"Lean Dem":41,"leaning":12,"N":6758},"40":{"Category":"Unmarried","Rep":17,"Dem":34,"Ind":43,"DK":6,"Lean Rep":32,"Lean Dem":54,"leaning":14,"N":6168},"41":{"Category":"Living with a partner","Rep":13,"Dem":32,"Ind":50,"DK":6,"Lean Rep":31,"Lean Dem":55,"leaning":14,"N":779},"42":{"Category":"Divorced\/Separated","Rep":17,"Dem":37,"Ind":39,"DK":7,"Lean Rep":32,"Lean Dem":54,"leaning":14,"N":1740},"43":{"Category":"Widowed","Rep":27,"Dem":38,"Ind":30,"DK":5,"Lean Rep":40,"Lean Dem":49,"leaning":11,"N":1231},"44":{"Category":"Never married","Rep":15,"Dem":33,"Ind":47,"DK":5,"Lean Rep":30,"Lean Dem":56,"leaning":14,"N":2418},"45":{"Category":"Parent\/Guardian","Rep":21,"Dem":30,"Ind":42,"DK":7,"Lean Rep":38,"Lean Dem":47,"leaning":15,"N":1207},"46":{"Category":"Not a Parent\/Guardian","Rep":23,"Dem":31,"Ind":40,"DK":6,"Lean Rep":39,"Lean Dem":48,"leaning":13,"N":3618},"47":{"Category":"Millennial men","Rep":18,"Dem":23,"Ind":53,"DK":5,"Lean Rep":38,"Lean Dem":48,"leaning":14,"N":3088},"48":{"Category":"Millennial women","Rep":18,"Dem":33,"Ind":43,"DK":6,"Lean Rep":32,"Lean Dem":54,"leaning":14,"N":2227},"49":{"Category":"Gen Xer men","Rep":23,"Dem":26,"Ind":45,"DK":6,"Lean Rep":43,"Lean Dem":44,"leaning":13,"N":2823},"50":{"Category":"Gen Xer women","Rep":21,"Dem":38,"Ind":35,"DK":7,"Lean Rep":33,"Lean Dem":53,"leaning":13,"N":2383},"51":{"Category":"Boomer men","Rep":26,"Dem":29,"Ind":39,"DK":5,"Lean Rep":45,"Lean Dem":43,"leaning":12,"N":4735},"52":{"Category":"Boomer women","Rep":24,"Dem":39,"Ind":31,"DK":5,"Lean Rep":38,"Lean Dem":52,"leaning":11,"N":4657},"53":{"Category":"Silent men","Rep":35,"Dem":26,"Ind":35,"DK":4,"Lean Rep":54,"Lean Dem":37,"leaning":9,"N":1913},"54":{"Category":"Silent women","Rep":31,"Dem":39,"Ind":25,"DK":6,"Lean Rep":42,"Lean Dem":48,"leaning":10,"N":2437},"55":{"Category":"College grad men","Rep":25,"Dem":26,"Ind":45,"DK":4,"Lean Rep":45,"Lean Dem":46,"leaning":9,"N":5485},"56":{"Category":"College grad women","Rep":22,"Dem":41,"Ind":33,"DK":4,"Lean Rep":35,"Lean Dem":57,"leaning":8,"N":4785},"57":{"Category":"Some coll or less men","Rep":23,"Dem":26,"Ind":45,"DK":6,"Lean Rep":42,"Lean Dem":44,"leaning":14,"N":7277},"58":{"Category":"Some coll or less women","Rep":23,"Dem":35,"Ind":35,"DK":7,"Lean Rep":36,"Lean Dem":50,"leaning":14,"N":7328},"59":{"Category":"Post graduate men","Rep":22,"Dem":29,"Ind":45,"DK":4,"Lean Rep":42,"Lean Dem":50,"leaning":8,"N":2142},"60":{"Category":"Post graduate women","Rep":18,"Dem":46,"Ind":32,"DK":4,"Lean Rep":29,"Lean Dem":64,"leaning":7,"N":1830},"61":{"Category":"College men","Rep":27,"Dem":24,"Ind":45,"DK":4,"Lean Rep":47,"Lean Dem":43,"leaning":10,"N":3343},"62":{"Category":"College women","Rep":25,"Dem":37,"Ind":33,"DK":5,"Lean Rep":38,"Lean Dem":53,"leaning":8,"N":2955},"63":{"Category":"Some college men","Rep":26,"Dem":25,"Ind":45,"DK":5,"Lean Rep":46,"Lean Dem":43,"leaning":12,"N":3281},"64":{"Category":"Some college women","Rep":24,"Dem":35,"Ind":36,"DK":5,"Lean Rep":38,"Lean Dem":51,"leaning":12,"N":3639},"65":{"Category":"HS or less men","Rep":22,"Dem":27,"Ind":44,"DK":6,"Lean Rep":40,"Lean Dem":44,"leaning":16,"N":3996},"66":{"Category":"HS or less women","Rep":22,"Dem":35,"Ind":35,"DK":8,"Lean Rep":34,"Lean Dem":49,"leaning":16,"N":3689},"67":{"Category":"Married men","Rep":28,"Dem":23,"Ind":43,"DK":6,"Lean Rep":51,"Lean Dem":38,"leaning":11,"N":3715},"68":{"Category":"Married women","Rep":28,"Dem":31,"Ind":35,"DK":6,"Lean Rep":44,"Lean Dem":44,"leaning":12,"N":3043},"69":{"Category":"Unmarried men","Rep":17,"Dem":28,"Ind":50,"DK":5,"Lean Rep":34,"Lean Dem":51,"leaning":14,"N":2859},"70":{"Category":"Unmarried women","Rep":17,"Dem":39,"Ind":38,"DK":6,"Lean Rep":29,"Lean Dem":57,"leaning":14,"N":3309},"71":{"Category":"Parent men","Rep":24,"Dem":27,"Ind":44,"DK":6,"Lean Rep":43,"Lean Dem":42,"leaning":15,"N":606},"72":{"Category":"Parent women","Rep":19,"Dem":33,"Ind":40,"DK":9,"Lean Rep":33,"Lean Dem":51,"leaning":16,"N":601},"73":{"Category":"Non-parent men","Rep":24,"Dem":26,"Ind":45,"DK":5,"Lean Rep":42,"Lean Dem":46,"leaning":13,"N":1834},"74":{"Category":"Non-parent women","Rep":22,"Dem":36,"Ind":35,"DK":6,"Lean Rep":36,"Lean Dem":51,"leaning":13,"N":1784},"75":{"Category":"Northeast","Rep":20,"Dem":36,"Ind":38,"DK":6,"Lean Rep":34,"Lean Dem":53,"leaning":13,"N":4334},"76":{"Category":"   New England (CT ME MA NH RI VT)","Rep":16,"Dem":32,"Ind":48,"DK":4,"Lean Rep":35,"Lean Dem":52,"leaning":14,"N":1181},"77":{"Category":"   Middle Atlantic (DE DC MD NJ NY PA)","Rep":20,"Dem":39,"Ind":34,"DK":6,"Lean Rep":33,"Lean Dem":55,"leaning":12,"N":3757},"78":{"Category":"Midwest","Rep":24,"Dem":31,"Ind":40,"DK":6,"Lean Rep":40,"Lean Dem":47,"leaning":13,"N":5657},"79":{"Category":"   Great Lakes-East North (IN IL MI OH WI)","Rep":23,"Dem":32,"Ind":39,"DK":6,"Lean Rep":39,"Lean Dem":48,"leaning":12,"N":3794},"80":{"Category":"   Midwest-West North (IA KS MN MO NE ND SD)","Rep":26,"Dem":28,"Ind":40,"DK":6,"Lean Rep":43,"Lean Dem":43,"leaning":14,"N":1863},"81":{"Category":"South","Rep":25,"Dem":30,"Ind":39,"DK":5,"Lean Rep":42,"Lean Dem":46,"leaning":12,"N":9268},"82":{"Category":"   South Atlantic (FL GA NC SC VA WV)","Rep":25,"Dem":30,"Ind":40,"DK":5,"Lean Rep":42,"Lean Dem":46,"leaning":12,"N":4534},"83":{"Category":"   South Central (AL AR KY LA MS OK TN TX)","Rep":27,"Dem":28,"Ind":39,"DK":6,"Lean Rep":44,"Lean Dem":43,"leaning":13,"N":4130},"84":{"Category":"West","Rep":22,"Dem":30,"Ind":42,"DK":7,"Lean Rep":38,"Lean Dem":49,"leaning":13,"N":5751},"85":{"Category":"   Mountain (AZ CO ID NM MT UT NV WY)","Rep":27,"Dem":24,"Ind":43,"DK":6,"Lean Rep":45,"Lean Dem":43,"leaning":13,"N":2080},"86":{"Category":"   Pacific (AK CA HI OR WA)","Rep":19,"Dem":33,"Ind":41,"DK":7,"Lean Rep":34,"Lean Dem":53,"leaning":14,"N":3671},"87":{"Category":"Urban community","Rep":18,"Dem":38,"Ind":39,"DK":6,"Lean Rep":31,"Lean Dem":57,"leaning":12,"N":8118},"88":{"Category":"Suburban community","Rep":25,"Dem":29,"Ind":40,"DK":5,"Lean Rep":43,"Lean Dem":45,"leaning":12,"N":12065},"89":{"Category":"Rural community","Rep":29,"Dem":26,"Ind":39,"DK":6,"Lean Rep":47,"Lean Dem":39,"leaning":14,"N":4556},"90":{"Category":"White Non-Hisp Evangelical Protestant","Rep":46,"Dem":14,"Ind":34,"DK":5,"Lean Rep":68,"Lean Dem":22,"leaning":9,"N":4814},"91":{"Category":"White Non-Hisp Mainline Protestant","Rep":30,"Dem":26,"Ind":38,"DK":6,"Lean Rep":48,"Lean Dem":40,"leaning":12,"N":4144},"92":{"Category":"Black Protestant","Rep":5,"Dem":68,"Ind":22,"DK":4,"Lean Rep":10,"Lean Dem":82,"leaning":8,"N":1812},"93":{"Category":"Total Catholic","Rep":24,"Dem":33,"Ind":37,"DK":6,"Lean Rep":40,"Lean Dem":48,"leaning":12,"N":5125},"94":{"Category":"   White Non-Hispanic Catholic","Rep":31,"Dem":30,"Ind":36,"DK":3,"Lean Rep":50,"Lean Dem":41,"leaning":10,"N":3435},"95":{"Category":"   Hispanic Catholic","Rep":12,"Dem":38,"Ind":41,"DK":9,"Lean Rep":25,"Lean Dem":58,"leaning":17,"N":1283},"96":{"Category":"Mormon","Rep":49,"Dem":12,"Ind":35,"DK":3,"Lean Rep":70,"Lean Dem":22,"leaning":9,"N":473},"97":{"Category":"Jewish","Rep":16,"Dem":47,"Ind":33,"DK":4,"Lean Rep":31,"Lean Dem":61,"leaning":8,"N":516},"98":{"Category":"Total Unaffiliated","Rep":10,"Dem":34,"Ind":50,"DK":6,"Lean Rep":25,"Lean Dem":61,"leaning":14,"N":4983},"99":{"Category":"   Atheist","Rep":6,"Dem":42,"Ind":47,"DK":5,"Lean Rep":16,"Lean Dem":72,"leaning":12,"N":781},"100":{"Category":"   Agnostic","Rep":8,"Dem":39,"Ind":49,"DK":4,"Lean Rep":23,"Lean Dem":69,"leaning":8,"N":902},"101":{"Category":"   Nothing in particular","Rep":12,"Dem":31,"Ind":52,"DK":6,"Lean Rep":27,"Lean Dem":57,"leaning":16,"N":3300},"102":{"Category":"White NH Evangelical Protestant Millennial","Rep":44,"Dem":9,"Ind":44,"DK":4,"Lean Rep":70,"Lean Dem":19,"leaning":12,"N":559},"103":{"Category":"White NH Evangelical Protestant Xer","Rep":46,"Dem":12,"Ind":36,"DK":5,"Lean Rep":70,"Lean Dem":20,"leaning":10,"N":858},"104":{"Category":"White NH Evangelical Protestant Boomer","Rep":45,"Dem":16,"Ind":34,"DK":5,"Lean Rep":68,"Lean Dem":23,"leaning":9,"N":1984},"105":{"Category":"White NH Evangelical Protestant Silent","Rep":51,"Dem":18,"Ind":26,"DK":5,"Lean Rep":67,"Lean Dem":25,"leaning":8,"N":1255},"106":{"Category":"White NH Mainline Protestant Millennial","Rep":29,"Dem":22,"Ind":44,"DK":6,"Lean Rep":48,"Lean Dem":37,"leaning":15,"N":576},"107":{"Category":"White NH Mainline Protestant Xer","Rep":28,"Dem":27,"Ind":38,"DK":7,"Lean Rep":48,"Lean Dem":39,"leaning":12,"N":721},"108":{"Category":"White NH Mainline Protestant Boomer","Rep":29,"Dem":27,"Ind":38,"DK":5,"Lean Rep":47,"Lean Dem":41,"leaning":12,"N":1725},"109":{"Category":"White NH Mainline Protestant Silent","Rep":33,"Dem":30,"Ind":32,"DK":5,"Lean Rep":49,"Lean Dem":41,"leaning":10,"N":964},"110":{"Category":"Total Catholic Millennial","Rep":20,"Dem":28,"Ind":45,"DK":7,"Lean Rep":36,"Lean Dem":48,"leaning":16,"N":930},"111":{"Category":"Total Catholic Xer","Rep":22,"Dem":32,"Ind":39,"DK":7,"Lean Rep":39,"Lean Dem":49,"leaning":12,"N":1120},"112":{"Category":"Total Catholic Boomer","Rep":26,"Dem":37,"Ind":33,"DK":4,"Lean Rep":41,"Lean Dem":48,"leaning":11,"N":2005},"113":{"Category":"Total Catholic Silent","Rep":27,"Dem":38,"Ind":30,"DK":4,"Lean Rep":44,"Lean Dem":46,"leaning":10,"N":919},"114":{"Category":"White NH Catholic Millennial","Rep":32,"Dem":24,"Ind":42,"DK":2,"Lean Rep":49,"Lean Dem":39,"leaning":12,"N":387},"115":{"Category":"White NH Catholic Xer","Rep":33,"Dem":27,"Ind":35,"DK":4,"Lean Rep":53,"Lean Dem":38,"leaning":8,"N":642},"116":{"Category":"White NH Catholic Boomer","Rep":30,"Dem":32,"Ind":35,"DK":3,"Lean Rep":47,"Lean Dem":43,"leaning":9,"N":1508},"117":{"Category":"White NH Catholic Silent","Rep":30,"Dem":33,"Ind":34,"DK":4,"Lean Rep":49,"Lean Dem":41,"leaning":10,"N":769},"118":{"Category":"Hispanic Catholic Millennial","Rep":12,"Dem":30,"Ind":48,"DK":10,"Lean Rep":28,"Lean Dem":53,"leaning":20,"N":449},"119":{"Category":"Hispanic Catholic Xer","Rep":10,"Dem":38,"Ind":43,"DK":9,"Lean Rep":23,"Lean Dem":61,"leaning":16,"N":390},"120":{"Category":"Hispanic Catholic Boomer","Rep":15,"Dem":46,"Ind":32,"DK":8,"Lean Rep":25,"Lean Dem":59,"leaning":16,"N":344},"121":{"Category":"Total Unaffiliated Millennial","Rep":9,"Dem":30,"Ind":56,"DK":6,"Lean Rep":24,"Lean Dem":62,"leaning":14,"N":1724},"122":{"Category":"Total Unaffiliated Xer","Rep":11,"Dem":35,"Ind":49,"DK":5,"Lean Rep":26,"Lean Dem":60,"leaning":14,"N":1171},"123":{"Category":"Total Unaffiliated Boomer","Rep":12,"Dem":36,"Ind":46,"DK":6,"Lean Rep":25,"Lean Dem":60,"leaning":14,"N":1556},"124":{"Category":"Total Unaffiliated Silent","Rep":14,"Dem":45,"Ind":36,"DK":5,"Lean Rep":25,"Lean Dem":64,"leaning":11,"N":452}}';

var data = JSON.parse(text); 
console.log(data); 

//animated pie chart from d3 library

var count = 0; 
var dt = data[count]; 
console.log(dt);

var categories = ["Republican", "Democrat", "Independent", "Don't Know", "Leaning Republican", "Leaning Democratic"];

//storing percentage data 
var dl = []; 
for(var key in dt){
  dl.push(dt[key]); 
}   

console.log(dl); 

//UGH LOL just gonna make a new array whatever

var dp = dl.slice(1,7);
console.log(dp);

var width = 800,
    height = 250,
    radius = Math.min(width, height) / 2;

var color = ["#98abc5", "#8a89a6", "#7b6888", "#6b486b", "#a05d56", "#d0743c"];

var arc = d3.svg.arc()
    .outerRadius(radius - 10)
    .innerRadius(radius - 70);

var pie = d3.layout.pie()
    .sort(null)
    .value(function(d, i) {
	    console.log(dp[i]);
	    return dp[i];
    });



var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height)
    .append("g")
    .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");

    var g = svg.selectAll(".arc")
        .data(pie(dl))
        .enter().append("g")
        .attr("class", "arc");

    g.append("path")
        .attr("d", arc)
        .style("fill", function(d, i){ 
	    console.log(color[i]);
	    return color[i]; 
	}
    );

    g.append("text")
        .attr("transform", function (d) {
        return "translate(" + arc.centroid(d) + ")";
    })
        .attr("dy", ".35em")
        .style("text-anchor", "middle")
    .text(function (d, i){
	return categories[i] + ": " + dp[i] + "%";
    });
